% Autogenerated translation of README.md by Texpad
% To stop this file being overwritten during the typeset process, please move or remove this header

\documentclass[12pt]{book}
\usepackage{graphicx}
\usepackage{fontspec}
\usepackage[utf8]{inputenc}
\usepackage[a4paper,left=.5in,right=.5in,top=.3in,bottom=0.3in]{geometry}
\setlength\parindent{0pt}
\setlength{\parskip}{\baselineskip}
\setmainfont{Helvetica Neue}
\usepackage{hyperref}
\pagestyle{plain}
\begin{document}

\chapter*{Hierarchical Federated Learning with Multi-Timescale Gradient Correction}

Our experiments are based on the implementation of \href{https://openreview.net/pdf?id=B7v4QMR6Z9w}{Federated Learning Based on Dynamic Regularization}.

\section*{Requirements}

Please install the required packages. The code is compiled with Python 3.7 dependencies in a virtual environment via:

\texttt{bash
pip install -r requirements.txt
}

\section*{Instructions}

\subsection*{How to Run}

For different configurations, use the following commands:

\begin{enumerate}
\item \textbf{MTGC}:

\texttt{bash
python run\_MTGC.py \textbackslash{}
    --rule 'noniid' \textbackslash{}
    --rule\_arg 0.1 \textbackslash{}
    --com\_amount 100 \textbackslash{}
    --epoch 2 \textbackslash{}
    --E 30
}
\item \textbf{Group Correction}:

\texttt{bash
python run\_MTGC\_Y.py \textbackslash{}
    --rule 'noniid' \textbackslash{}
    --rule\_arg 0.1 \textbackslash{}
    --com\_amount 100 \textbackslash{}
    --epoch 2 \textbackslash{}
    --E 30
}
\item \textbf{Local Correction}:

\texttt{bash
python run\_MTGC\_Z.py \textbackslash{}
    --rule 'noniid' \textbackslash{}
    --rule\_arg 0.1 \textbackslash{}
    --com\_amount 100 \textbackslash{}
    --epoch 2 \textbackslash{}
    --E 30
}
\item \textbf{FedDyn}:

\texttt{bash
python run\_FedDyn.py \textbackslash{}
    --rule 'noniid' \textbackslash{}
    --rule\_arg 0.1 \textbackslash{}
    --com\_amount 100 \textbackslash{}
    --epoch 2 \textbackslash{}
    --E 30
}
\item \textbf{FedProx}:

\texttt{bash
python run\_FedProx.py \textbackslash{}
    --rule 'noniid' \textbackslash{}
    --rule\_arg 0.1 \textbackslash{}
    --com\_amount 100 \textbackslash{}
    --epoch 2 \textbackslash{}
    --E 30
}
\item \textbf{HFedAvg}:

\texttt{bash
python run\_HFL.py \textbackslash{}
    --rule 'noniid' \textbackslash{}
    --rule\_arg 0.1 \textbackslash{}
    --com\_amount 100 \textbackslash{}
    --epoch 2 \textbackslash{}
    --E 30
}
\end{enumerate}

\subsection*{Training Log}

The training logs are recorded in the \texttt{training\_log} directory.

\subsection*{Rule and Rule Arguments}

\begin{itemize}
\item \textbf{Rule}:

\begin{itemize}
\item \texttt{'noniid'}: Both Group and Client Non-IID
\item \texttt{'Dirichlet'}: Group IID and Client Non-IID
\item \texttt{'Mix2'}: Group Non-IID and Client IID
\end{itemize}
\item \textbf{Rule Argument}:

\begin{itemize}
\item \texttt{Dirichlet} parameter as shown in the manuscript.
\end{itemize}
\end{itemize}

\subsection*{Parameters}

\begin{itemize}
\item \textbf{com\_amount}: Number of global communication rounds.
\item \textbf{E}: Group aggregation period.
\item \textbf{epoch}: ( H = frac\{text\{number of samples at local dataset\}\}\{text\{batch size\}\} times text\{epoch\} )
\item Please refer to \texttt{utils\_options.py} for more parameters.
\end{itemize}

\end{document}
